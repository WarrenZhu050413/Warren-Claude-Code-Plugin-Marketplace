<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{TITLE}}</title>

    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'chinese-red': {
                            light: '#DC143C',
                            DEFAULT: '#8B0000',
                            dark: '#DC143C'
                        },
                        'chinese-gold': '#FFD700',
                        'jade-green': {
                            light: '#10B981',
                            DEFAULT: '#00A86B'
                        },
                        'ink': {
                            light: '#2B2B2B',
                            dark: '#E5E5DC'
                        },
                        'paper': {
                            light: '#F5F5DC',
                            dark: '#1A1A1A'
                        },
                        'cream': {
                            light: '#FAFAF0',
                            dark: '#252525'
                        }
                    },
                    fontFamily: {
                        sans: ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Arial', 'sans-serif']
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom styles for smooth transitions */
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .collapsible.open .collapsible-content {
            max-height: 5000px;
        }

        .arrow {
            display: inline-block;
            transition: transform 0.3s ease;
        }

        .collapsible.open .arrow {
            transform: rotate(90deg);
        }

        /* Gradient text for h1 */
        .gradient-text {
            background: linear-gradient(135deg, #8B0000, #CD5C5C);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Mermaid styling */
        .mermaid {
            background: transparent;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-paper-light to-cream-light dark:from-paper-dark dark:to-cream-dark text-ink-light dark:text-ink-dark text-sm leading-tight">

    <!-- Theme Toggle Button -->
    <button
        id="theme-toggle"
        class="fixed top-2 right-2 z-50 bg-chinese-gold text-ink-light dark:text-ink-dark border-2 border-chinese-red px-4 py-2 rounded font-bold text-xs shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all"
    >
        🌙 Dark
    </button>

    <div class="w-full p-1">
        <!-- Expand/Collapse Controls -->
        <div class="my-2 text-left">
            <button
                id="expand-all"
                class="bg-gradient-to-r from-chinese-red to-red-700 text-white border border-chinese-gold px-3 py-1 text-xs hover:shadow-md hover:-translate-y-px transition-all"
            >
                ▼ Expand All
            </button>
            <button
                id="collapse-all"
                class="bg-gradient-to-r from-chinese-red to-red-700 text-white border border-chinese-gold px-3 py-1 text-xs hover:shadow-md hover:-translate-y-px transition-all ml-1"
            >
                ▲ Collapse All
            </button>
        </div>

        <!-- ===== CONTENT GOES HERE ===== -->

        <!-- Example: Important Always-Visible Section -->
        <div class="bg-gradient-to-br from-chinese-gold/10 to-white dark:to-cream-dark border-2 border-chinese-gold p-4 my-4 rounded-sm">
            <h2 class="text-base font-bold text-chinese-red border-l-4 border-chinese-red pl-2 mb-2">Important Information</h2>
            <p>This content is always visible and highlighted for emphasis.</p>
        </div>

        <!-- Example: Two-Column Layout -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-2 my-2">
            <!-- Left Column -->
            <div class="bg-white dark:bg-cream-dark border border-chinese-red/20 rounded-sm p-3 shadow-sm">
                <h3 class="text-sm font-semibold uppercase tracking-wide mb-2">Column 1</h3>
                <ul class="space-y-1 ml-2">
                    <li class="relative pl-3 before:content-['▸'] before:absolute before:left-0 before:text-chinese-red before:text-xs">
                        <strong class="font-semibold">Item 1:</strong> Description
                    </li>
                    <li class="relative pl-3 before:content-['▸'] before:absolute before:left-0 before:text-chinese-red before:text-xs">
                        <strong class="font-semibold">Item 2:</strong> Description
                    </li>
                </ul>
            </div>

            <!-- Right Column -->
            <div class="bg-white dark:bg-cream-dark border border-chinese-red/20 rounded-sm p-3 shadow-sm">
                <h3 class="text-sm font-semibold uppercase tracking-wide mb-2">Column 2</h3>
                <ul class="space-y-1 ml-2">
                    <li class="relative pl-3 before:content-['▸'] before:absolute before:left-0 before:text-chinese-red before:text-xs">
                        <strong class="font-semibold">Item 1:</strong> Description
                    </li>
                    <li class="relative pl-3 before:content-['▸'] before:absolute before:left-0 before:text-chinese-red before:text-xs">
                        <strong class="font-semibold">Item 2:</strong> Description
                    </li>
                </ul>
            </div>
        </div>

        <!-- Example: Collapsible Section -->
        <div class="collapsible my-2" data-collapsible="closed">
            <div class="collapsible-header cursor-pointer p-3 bg-gradient-to-r from-chinese-red/5 to-chinese-gold/5 border-l-3 border-chinese-gold flex items-center justify-between select-none hover:from-chinese-red/10 hover:to-chinese-gold/10 transition-all">
                <span class="font-medium text-sm">Collapsible Section Title</span>
                <span class="arrow text-chinese-red text-xs">▶</span>
            </div>
            <div class="collapsible-content ml-3 px-3">
                <p class="py-2 text-xs">This content is hidden by default and expands when clicked.</p>
                <ul class="space-y-1 ml-2">
                    <li class="relative pl-3 before:content-['▸'] before:absolute before:left-0 before:text-chinese-red before:text-xs">
                        Nested item 1
                    </li>
                    <li class="relative pl-3 before:content-['▸'] before:absolute before:left-0 before:text-chinese-red before:text-xs">
                        Nested item 2
                    </li>
                </ul>
            </div>
        </div>

        <!-- Example: Code Block -->
        <pre class="bg-gray-100 dark:bg-gray-800 border border-chinese-red/20 p-3 my-2 rounded text-xs font-mono overflow-x-auto"><code>def hello_world():
    print("Hello from Tailwind template!")</code></pre>

        <!-- Example: Table -->
        <table class="w-full border-collapse my-2 text-xs">
            <thead>
                <tr>
                    <th class="bg-chinese-red text-white font-semibold text-[11px] uppercase tracking-wide px-3 py-1.5 text-left">Header 1</th>
                    <th class="bg-chinese-red text-white font-semibold text-[11px] uppercase tracking-wide px-3 py-1.5 text-left">Header 2</th>
                    <th class="bg-chinese-red text-white font-semibold text-[11px] uppercase tracking-wide px-3 py-1.5 text-left">Header 3</th>
                </tr>
            </thead>
            <tbody>
                <tr class="even:bg-black/5 dark:even:bg-chinese-gold/5">
                    <td class="border border-gray-300 dark:border-gray-600 px-3 py-1.5 font-semibold">Row 1</td>
                    <td class="border border-gray-300 dark:border-gray-600 px-3 py-1.5">Data</td>
                    <td class="border border-gray-300 dark:border-gray-600 px-3 py-1.5">Data</td>
                </tr>
                <tr class="even:bg-black/5 dark:even:bg-chinese-gold/5">
                    <td class="border border-gray-300 dark:border-gray-600 px-3 py-1.5 font-semibold">Row 2</td>
                    <td class="border border-gray-300 dark:border-gray-600 px-3 py-1.5">Data</td>
                    <td class="border border-gray-300 dark:border-gray-600 px-3 py-1.5">Data</td>
                </tr>
            </tbody>
        </table>

        <!-- Example: Utility Classes -->
        <div class="space-y-1 my-2">
            <p class="text-chinese-red font-bold">Critical: High priority item</p>
            <p class="text-jade-green font-semibold">Success: Completed task</p>
            <p class="text-chinese-gold font-semibold">Warning: Needs attention</p>
            <p class="text-gray-500 text-[11px]">Muted: Secondary information</p>
            <p class="bg-chinese-gold/20 px-1">Highlighted text for emphasis</p>
        </div>

        <!-- Example: Mermaid Diagram (optional) -->
        <div class="diagram-container bg-white dark:bg-cream-dark border border-gray-300 dark:border-gray-600 rounded-md p-4 my-4 shadow-sm">
            <div class="mermaid">
flowchart LR
    A[Start] --> B{Decision}
    B -->|Yes| C[Action 1]
    B -->|No| D[Action 2]
    C --> E[End]
    D --> E
            </div>
        </div>

    </div>

    <!-- Mermaid.js (only include if using diagrams) -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ===== DARK MODE SETUP =====
            const savedTheme = localStorage.getItem('theme') || 'light';
            if (savedTheme === 'dark') {
                document.documentElement.classList.add('dark');
            }

            const themeToggle = document.getElementById('theme-toggle');
            if (themeToggle) {
                themeToggle.textContent = savedTheme === 'dark' ? '☀️ Light' : '🌙 Dark';
                themeToggle.addEventListener('click', function() {
                    const isDark = document.documentElement.classList.toggle('dark');
                    const newTheme = isDark ? 'dark' : 'light';
                    localStorage.setItem('theme', newTheme);
                    this.textContent = isDark ? '☀️ Light' : '🌙 Dark';

                    // Reinitialize Mermaid with new theme
                    location.reload(); // Simple approach for theme switching
                });
            }

            // ===== MERMAID SETUP =====
            const currentTheme = localStorage.getItem('theme') || 'light';

            mermaid.initialize({
                startOnLoad: true,
                theme: 'base',
                themeVariables: currentTheme === 'dark' ? {
                    background: '#1e1e1e',
                    primaryColor: '#bb86fc',
                    primaryTextColor: '#e0e0e0',
                    primaryBorderColor: '#bb86fc',
                    lineColor: '#888',
                    secondaryColor: '#03dac6',
                    tertiaryColor: '#cf6679',
                    mainBkg: '#2a2a2a',
                    textColor: '#e0e0e0',
                    nodeBorder: '#888'
                } : {
                    background: '#FFFFFF',
                    primaryColor: '#8B0000',
                    primaryTextColor: '#1a1a1a',
                    primaryBorderColor: '#6B4423',
                    lineColor: '#4A5568',
                    secondaryColor: '#1B3A57',
                    tertiaryColor: '#2D5016',
                    mainBkg: '#FAFAFA',
                    textColor: '#1a1a1a',
                    nodeBorder: '#6B4423'
                },
                flowchart: {
                    curve: 'basis',
                    padding: 20,
                    useMaxWidth: true,
                    htmlLabels: true
                }
            });

            // ===== COLLAPSIBLES SETUP =====
            document.querySelectorAll('[data-collapsible]').forEach(function(section) {
                const isOpen = section.getAttribute('data-collapsible') === 'open';
                section.classList.add('collapsible');
                if (isOpen) section.classList.add('open');
            });

            document.querySelectorAll('.collapsible-header').forEach(function(header) {
                header.addEventListener('click', function() {
                    const collapsible = this.closest('.collapsible');
                    collapsible.classList.toggle('open');
                });
            });

            // ===== EXPAND/COLLAPSE ALL =====
            const expandAllBtn = document.getElementById('expand-all');
            const collapseAllBtn = document.getElementById('collapse-all');

            if (expandAllBtn) {
                expandAllBtn.addEventListener('click', function() {
                    document.querySelectorAll('.collapsible').forEach(function(c) {
                        c.classList.add('open');
                    });
                });
            }

            if (collapseAllBtn) {
                collapseAllBtn.addEventListener('click', function() {
                    document.querySelectorAll('.collapsible').forEach(function(c) {
                        c.classList.remove('open');
                    });
                });
            }
        });
    </script>
</body>
</html>
