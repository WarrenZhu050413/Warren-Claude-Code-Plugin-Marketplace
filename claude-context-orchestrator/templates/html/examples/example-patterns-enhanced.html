<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Hierarchical Patterns - Interactive Demo</title>
    <style>
        /* ===== CSS VARIABLES ===== */
        :root {
            --bg: 0 0% 100%;
            --fg: 0 0% 3.9%;
            --card: 0 0% 98%;
            --border: 0 0% 89.8%;
            --primary: 0 0% 9%;
            --muted: 0 0% 96.1%;
            --accent: 220 100% 50%;
            --success: 142 76% 36%;
            --warning: 38 92% 50%;
            --danger: 0 84% 60%;
            --sidebar-width: 280px;
        }

        [data-theme="dark"] {
            --bg: 0 0% 7%;
            --fg: 0 0% 98%;
            --card: 0 0% 10%;
            --border: 0 0% 20%;
            --primary: 0 0% 98%;
            --muted: 0 0% 15%;
            --accent: 220 100% 65%;
            --success: 142 76% 50%;
            --warning: 38 92% 65%;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: hsl(var(--bg));
            color: hsl(var(--fg));
            font-size: 16px;
            line-height: 1.6;
        }

        /* ===== SIDEBAR NAVIGATION ===== */
        .layout {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: var(--sidebar-width);
            background: hsl(var(--card));
            border-right: 1px solid hsl(var(--border));
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            padding: 2rem 1.5rem;
            z-index: 100;
        }

        .sidebar-header {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: hsl(var(--accent));
        }

        .nav-section {
            margin-bottom: 1.5rem;
        }

        .nav-section-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: hsl(var(--fg) / 0.5);
            margin-bottom: 0.5rem;
            padding: 0 0.5rem;
        }

        .nav-links {
            list-style: none;
        }

        .nav-link {
            display: block;
            padding: 0.5rem 0.75rem;
            color: hsl(var(--fg) / 0.7);
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.9rem;
            transition: all 0.2s;
            cursor: pointer;
        }

        .nav-link:hover {
            background: hsl(var(--muted));
            color: hsl(var(--fg));
        }

        .nav-link.active {
            background: hsl(var(--accent) / 0.1);
            color: hsl(var(--accent));
            font-weight: 600;
        }

        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 2rem 3rem;
            max-width: 1400px;
        }

        /* Typography */
        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: hsl(var(--primary));
        }

        .subtitle {
            font-size: 1.25rem;
            color: hsl(var(--fg) / 0.6);
            margin-bottom: 2rem;
        }

        h2 {
            font-size: 1.75rem;
            font-weight: 600;
            margin: 3rem 0 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid hsl(var(--border));
            scroll-margin-top: 2rem;
        }

        h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 2rem 0 0.75rem;
            scroll-margin-top: 2rem;
        }

        h4 {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 1.5rem 0 0.5rem;
        }

        p {
            margin-bottom: 1rem;
        }

        .pattern-intro {
            background: hsl(var(--accent) / 0.1);
            border-left: 4px solid hsl(var(--accent));
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 4px;
        }

        .demo-box {
            background: hsl(var(--card));
            border: 2px solid hsl(var(--border));
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
        }

        /* ===== VIEW MODE TOGGLE ===== */
        .view-toggle {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
            background: hsl(var(--muted));
            padding: 0.25rem;
            border-radius: 8px;
            z-index: 10;
        }

        .view-toggle-btn {
            padding: 0.5rem 1rem;
            border: none;
            background: transparent;
            color: hsl(var(--fg) / 0.7);
            cursor: pointer;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.2s;
        }

        .view-toggle-btn:hover {
            color: hsl(var(--fg));
        }

        .view-toggle-btn.active {
            background: white;
            color: hsl(var(--accent));
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .view-toggle-btn.active {
            background: hsl(var(--card));
        }

        /* ===== COLLAPSIBLE SECTIONS ===== */
        .collapsible {
            margin: 1.5rem 0;
        }

        .collapsible-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 1.5rem;
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
        }

        .collapsible-header:hover {
            background: hsl(var(--muted));
        }

        .collapsible-title {
            font-size: 1rem;
            font-weight: 600;
            color: hsl(var(--fg));
        }

        .collapsible-icon {
            font-size: 1.2rem;
            color: hsl(var(--accent));
            transition: transform 0.3s;
        }

        .collapsible.open .collapsible-icon {
            transform: rotate(180deg);
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .collapsible.open .collapsible-content {
            max-height: 3000px;
            padding: 1.5rem;
        }

        /* ===== MULTI-TAB INTERFACE ===== */
        .tabs-container {
            margin: 2rem 0;
            position: relative;
        }

        .tab-list {
            display: flex;
            gap: 0.5rem;
            border-bottom: 2px solid hsl(var(--border));
            margin-bottom: 1.5rem;
            overflow-x: auto;
        }

        .tab-button {
            background: none;
            border: none;
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 500;
            color: hsl(var(--fg) / 0.6);
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .tab-button:hover {
            color: hsl(var(--fg));
            background: hsl(var(--muted) / 0.5);
        }

        .tab-button.active {
            color: hsl(var(--accent));
            border-bottom-color: hsl(var(--accent));
            font-weight: 600;
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        /* ===== SPLIT-PANE LAYOUT ===== */
        .split-pane-container {
            display: flex;
            min-height: 400px;
            gap: 0;
            border: 1px solid hsl(var(--border));
            border-radius: 12px;
            overflow: hidden;
            margin: 2rem 0;
        }

        .pane {
            flex: 1;
            overflow-y: auto;
            padding: 2rem;
            background: hsl(var(--card));
        }

        .pane-left {
            border-right: 1px solid hsl(var(--border));
        }

        .divider {
            width: 4px;
            background: hsl(var(--border));
            cursor: col-resize;
            transition: background 0.2s;
            position: relative;
        }

        .divider::after {
            content: '‚ãÆ';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: hsl(var(--fg) / 0.3);
            font-size: 1.2rem;
        }

        .divider:hover {
            background: hsl(var(--accent));
        }

        .divider:hover::after {
            color: white;
        }

        /* Split pane view for tabs */
        .tabs-container.split-view .tab-list {
            display: none;
        }

        .tabs-container.split-view .tab-panels-wrapper {
            display: flex;
            gap: 0;
            min-height: 400px;
            border: 1px solid hsl(var(--border));
            border-radius: 12px;
            overflow: hidden;
        }

        .tabs-container.split-view .tab-panel {
            display: block;
            flex: 1;
            overflow-y: auto;
            padding: 2rem;
            background: hsl(var(--card));
        }

        .tabs-container.split-view .tab-panel:not(:last-child) {
            border-right: 1px solid hsl(var(--border));
        }

        /* Split pane view for collapsibles */
        .collapsible-group.split-view {
            display: flex;
            gap: 0;
            min-height: 400px;
            border: 1px solid hsl(var(--border));
            border-radius: 12px;
            overflow: hidden;
        }

        .collapsible-group.split-view .collapsible {
            flex: 1;
            margin: 0;
        }

        .collapsible-group.split-view .collapsible-header {
            border: none;
            border-radius: 0;
            border-bottom: 1px solid hsl(var(--border));
            background: hsl(var(--muted));
        }

        .collapsible-group.split-view .collapsible-icon {
            display: none;
        }

        .collapsible-group.split-view .collapsible-content {
            max-height: none;
            overflow-y: auto;
            height: calc(100% - 60px);
        }

        .collapsible-group.split-view .collapsible.open .collapsible-content {
            padding: 1.5rem;
        }

        .collapsible-group.split-view .collapsible:not(:last-child) {
            border-right: 1px solid hsl(var(--border));
        }

        /* ===== CARD GRID WITH FILTERING ===== */
        .filters {
            display: flex;
            gap: 0.5rem;
            margin: 1rem 0 2rem 0;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            color: hsl(var(--fg) / 0.7);
            transition: all 0.2s;
        }

        .filter-btn:hover {
            background: hsl(var(--muted));
            color: hsl(var(--fg));
        }

        .filter-btn.active {
            background: hsl(var(--accent));
            color: white;
            border-color: hsl(var(--accent));
        }

        .search-box {
            margin-bottom: 1rem;
        }

        .search-input {
            width: 100%;
            max-width: 400px;
            padding: 0.75rem 1rem;
            border: 1px solid hsl(var(--border));
            border-radius: 8px;
            background: hsl(var(--card));
            color: hsl(var(--fg));
            font-size: 0.95rem;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .card {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s;
            cursor: pointer;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-color: hsl(var(--accent));
        }

        .card.hidden {
            display: none;
        }

        .card-category {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: hsl(var(--accent) / 0.1);
            color: hsl(var(--accent));
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: hsl(var(--primary));
        }

        .card-description {
            font-size: 0.9rem;
            color: hsl(var(--fg) / 0.7);
            line-height: 1.5;
        }

        /* ===== TIMELINE/STEPPER ===== */
        .timeline-nav {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 2rem 0;
            overflow-x: auto;
            padding: 1rem 0;
        }

        .timeline-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            min-width: 100px;
        }

        .step-marker {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: hsl(var(--muted));
            border: 3px solid hsl(var(--border));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            transition: all 0.3s;
            color: hsl(var(--fg) / 0.5);
        }

        .timeline-step.active .step-marker {
            background: hsl(var(--accent));
            color: white;
            border-color: hsl(var(--accent));
            transform: scale(1.15);
        }

        .timeline-step.completed .step-marker {
            background: hsl(var(--success));
            border-color: hsl(var(--success));
            color: white;
        }

        .timeline-step.completed .step-marker::after {
            content: '‚úì';
            font-size: 1.4rem;
        }

        .step-label {
            margin-top: 0.75rem;
            font-size: 0.85rem;
            font-weight: 500;
            color: hsl(var(--fg) / 0.6);
            text-align: center;
        }

        .timeline-step.active .step-label {
            color: hsl(var(--accent));
            font-weight: 600;
        }

        .timeline-connector {
            width: 80px;
            height: 3px;
            background: hsl(var(--border));
            margin-bottom: 2rem;
            transition: background 0.3s;
        }

        .timeline-connector.active {
            background: hsl(var(--success));
        }

        .step-content {
            display: none;
            padding: 2rem;
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: 12px;
            margin: 2rem 0;
        }

        .step-content.active {
            display: block;
        }

        .step-controls {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: hsl(var(--accent));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .btn-secondary {
            background: hsl(var(--card));
            color: hsl(var(--fg));
            border: 1px solid hsl(var(--border));
        }

        .btn-secondary:hover {
            background: hsl(var(--muted));
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* ===== UTILITIES ===== */
        #theme-toggle {
            position: fixed;
            top: 1.5rem;
            right: 1.5rem;
            background: hsl(var(--primary));
            color: hsl(var(--bg));
            border: none;
            padding: 0.75rem 1.25rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.875rem;
            transition: all 0.2s;
            z-index: 10000;
        }

        #theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        #mobile-menu-toggle {
            display: none;
            position: fixed;
            top: 1.5rem;
            left: 1.5rem;
            background: hsl(var(--primary));
            color: hsl(var(--bg));
            border: none;
            padding: 0.75rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            z-index: 1001;
        }

        #scroll-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: hsl(var(--accent));
            color: white;
            border: none;
            padding: 0.75rem 1rem;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            opacity: 0;
            transition: opacity 0.3s, transform 0.2s;
            z-index: 999;
        }

        #scroll-to-top.visible {
            opacity: 1;
        }

        #scroll-to-top:hover {
            transform: translateY(-3px);
        }

        code {
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
            background: hsl(var(--muted));
            padding: 0.2em 0.4em;
            border-radius: 4px;
            font-size: 0.9em;
        }

        pre {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: 8px;
            padding: 1.5rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        pre code {
            background: none;
            padding: 0;
        }

        ul, ol {
            margin: 1rem 0;
            padding-left: 2rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
                padding: 2rem 1.5rem;
            }

            #mobile-menu-toggle {
                display: block;
            }

            h1 {
                font-size: 2rem;
                margin-top: 3rem;
            }

            .tabs-container.split-view .tab-panels-wrapper {
                flex-direction: column;
            }

            .tabs-container.split-view .tab-panel:not(:last-child) {
                border-right: none;
                border-bottom: 1px solid hsl(var(--border));
            }

            .collapsible-group.split-view {
                flex-direction: column;
            }

            .collapsible-group.split-view .collapsible:not(:last-child) {
                border-right: none;
                border-bottom: 1px solid hsl(var(--border));
            }

            .split-pane-container {
                flex-direction: column;
            }

            .pane-left {
                border-right: none;
                border-bottom: 1px solid hsl(var(--border));
            }

            .divider {
                display: none;
            }
        }
    </style>
</head>
<body>
    <button id="mobile-menu-toggle">‚ò∞</button>
    <button id="theme-toggle">üåô Dark Mode</button>
    <button id="scroll-to-top">‚Üë</button>

    <div class="layout">
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">Pattern Library</div>

            <div class="nav-section">
                <div class="nav-section-title">Core Patterns</div>
                <ul class="nav-links">
                    <li><a class="nav-link" data-section="pattern1">1. Sidebar Navigation</a></li>
                    <li><a class="nav-link" data-section="pattern2">2. Collapsible Sections</a></li>
                    <li><a class="nav-link" data-section="pattern3">3. Multi-Tab Interface</a></li>
                    <li><a class="nav-link" data-section="pattern4">4. Split-Pane Layout</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Advanced Patterns</div>
                <ul class="nav-links">
                    <li><a class="nav-link" data-section="pattern5">5. Card Grid + Filter</a></li>
                    <li><a class="nav-link" data-section="pattern6">6. Timeline/Stepper</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Dynamic Views</div>
                <ul class="nav-links">
                    <li><a class="nav-link" data-section="pattern7">7. Tab ‚Üí Split View</a></li>
                    <li><a class="nav-link" data-section="pattern8">8. Collapsible ‚Üí Split View</a></li>
                </ul>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <h1>Enhanced Hierarchical Patterns</h1>
            <p class="subtitle">Interactive demos with dynamic split-pane views</p>

            <div class="pattern-intro">
                <strong>What's New:</strong> Convert tabs and collapsibles into split-pane layouts using the view toggle buttons. Watch the sidebar auto-highlight as you scroll!
            </div>

            <!-- PATTERN 1: SIDEBAR NAVIGATION -->
            <section id="pattern1">
                <h2>Pattern 1: Sidebar Navigation with Auto-Highlight</h2>

                <div class="pattern-intro">
                    <strong>Best for:</strong> Long-form content with clear sections<br>
                    <strong>Active feature:</strong> Sidebar automatically highlights current section as you scroll!
                </div>

                <h3>Features:</h3>
                <ul>
                    <li><strong>Auto-highlighting:</strong> Current section lights up in sidebar (using Intersection Observer)</li>
                    <li><strong>Smooth scrolling:</strong> Click any section to smoothly scroll to it</li>
                    <li><strong>Fixed position:</strong> Sidebar stays visible during scroll</li>
                    <li><strong>Mobile responsive:</strong> Hamburger menu on small screens</li>
                </ul>
            </section>

            <!-- PATTERN 2: COLLAPSIBLE SECTIONS -->
            <section id="pattern2">
                <h2>Pattern 2: Collapsible Sections</h2>

                <div class="pattern-intro">
                    <strong>Best for:</strong> Dense information users explore selectively<br>
                    <strong>Click headers</strong> to expand or collapse content.
                </div>

                <div class="demo-box">
                    <div class="collapsible open">
                        <div class="collapsible-header">
                            <div class="collapsible-title">üé® Design Principles</div>
                            <div class="collapsible-icon">‚ñº</div>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <h4>Progressive Disclosure</h4>
                                <p>Show essential information first, revealing details on demand. This reduces cognitive load and helps users focus on what's relevant.</p>

                                <h4>Visual Hierarchy</h4>
                                <p>Use size, color, spacing to indicate importance. More important elements should be larger and more prominent.</p>
                            </div>
                        </div>
                    </div>

                    <div class="collapsible">
                        <div class="collapsible-header">
                            <div class="collapsible-title">üíª Implementation</div>
                            <div class="collapsible-icon">‚ñº</div>
                        </div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <pre><code>// Simple collapsible
header.addEventListener('click', () => {
    collapsible.classList.toggle('open');
});</code></pre>
                                <p>CSS uses <code>max-height</code> transitions for smooth animations.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PATTERN 3: MULTI-TAB INTERFACE -->
            <section id="pattern3">
                <h2>Pattern 3: Multi-Tab Interface</h2>

                <div class="pattern-intro">
                    <strong>Best for:</strong> Categorized parallel content<br>
                    <strong>Try:</strong> Click tabs to switch between content.
                </div>

                <div class="demo-box">
                    <div class="tabs-container" data-tabs="demo1">
                        <div class="tab-list" role="tablist">
                            <button class="tab-button active" role="tab" data-tab="html">HTML</button>
                            <button class="tab-button" role="tab" data-tab="css">CSS</button>
                            <button class="tab-button" role="tab" data-tab="js">JavaScript</button>
                        </div>

                        <div class="tab-panels-wrapper">
                            <div class="tab-panel active" id="html" role="tabpanel">
                                <h4>HTML Structure</h4>
                                <pre><code>&lt;div class="tabs-container"&gt;
    &lt;div class="tab-list"&gt;
        &lt;button class="tab-button"&gt;Tab 1&lt;/button&gt;
    &lt;/div&gt;
    &lt;div class="tab-panel"&gt;Content&lt;/div&gt;
&lt;/div&gt;</code></pre>
                            </div>

                            <div class="tab-panel" id="css" role="tabpanel">
                                <h4>CSS Styling</h4>
                                <pre><code>.tab-panel {
    display: none;
}

.tab-panel.active {
    display: block;
}</code></pre>
                            </div>

                            <div class="tab-panel" id="js" role="tabpanel">
                                <h4>JavaScript Logic</h4>
                                <pre><code>button.addEventListener('click', () => {
    // Hide all panels
    panels.forEach(p =>
        p.classList.remove('active'));

    // Show selected panel
    targetPanel.classList.add('active');
});</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PATTERN 4: SPLIT-PANE LAYOUT -->
            <section id="pattern4">
                <h2>Pattern 4: Split-Pane Layout</h2>

                <div class="pattern-intro">
                    <strong>Best for:</strong> Side-by-side comparisons, code + docs<br>
                    <strong>Try:</strong> Hover over the divider (‚ãÆ) to see the resize indicator.
                </div>

                <div class="split-pane-container">
                    <div class="pane pane-left">
                        <h4>Concept</h4>
                        <p>Split-pane layouts show related content side-by-side, perfect for:</p>
                        <ul>
                            <li>Code editor + live preview</li>
                            <li>Documentation + examples</li>
                            <li>Before/after comparisons</li>
                            <li>Source + compiled output</li>
                        </ul>

                        <h4>Benefits</h4>
                        <ul>
                            <li><strong>Reduced scrolling:</strong> See both sides simultaneously</li>
                            <li><strong>Context switching:</strong> No need to switch between tabs</li>
                            <li><strong>Comparison:</strong> Easy visual comparison</li>
                        </ul>
                    </div>

                    <div class="divider"></div>

                    <div class="pane pane-right">
                        <h4>Implementation</h4>
                        <pre><code>// Flexbox split pane
.container {
    display: flex;
}

.pane {
    flex: 1;
    overflow-y: auto;
}

.divider {
    width: 4px;
    cursor: col-resize;
}</code></pre>

                        <h4>Resizing</h4>
                        <pre><code>// Drag to resize
divider.addEventListener('mousedown',
    () => isDragging = true);

document.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    const width = (e.clientX /
        containerWidth) * 100;
    leftPane.style.flex =
        \`0 0 \${width}%\`;
});</code></pre>
                    </div>
                </div>
            </section>

            <!-- PATTERN 5: CARD GRID -->
            <section id="pattern5">
                <h2>Pattern 5: Card Grid with Filtering</h2>

                <div class="pattern-intro">
                    <strong>Best for:</strong> Collections, portfolios, galleries<br>
                    <strong>Try:</strong> Use filters and search to find specific items.
                </div>

                <div class="demo-box">
                    <div class="search-box">
                        <input type="text" id="card-search" class="search-input" placeholder="Search philosophers...">
                    </div>

                    <div class="filters">
                        <button class="filter-btn active" data-filter="all">All (8)</button>
                        <button class="filter-btn" data-filter="ancient">Ancient (3)</button>
                        <button class="filter-btn" data-filter="medieval">Medieval (2)</button>
                        <button class="filter-btn" data-filter="modern">Modern (2)</button>
                        <button class="filter-btn" data-filter="contemporary">Contemporary (1)</button>
                    </div>

                    <div class="card-grid">
                        <div class="card" data-category="ancient" data-name="Aristotle">
                            <div class="card-category">Ancient</div>
                            <div class="card-title">Aristotle</div>
                            <div class="card-description">384-322 BCE. Eudaimonia through virtue and contemplation.</div>
                        </div>

                        <div class="card" data-category="ancient" data-name="Epicurus">
                            <div class="card-category">Ancient</div>
                            <div class="card-title">Epicurus</div>
                            <div class="card-description">341-270 BCE. Ataraxia through simple living.</div>
                        </div>

                        <div class="card" data-category="ancient" data-name="Marcus Aurelius">
                            <div class="card-category">Ancient</div>
                            <div class="card-title">Marcus Aurelius</div>
                            <div class="card-description">121-180 CE. Stoic emperor, author of Meditations.</div>
                        </div>

                        <div class="card" data-category="medieval" data-name="Augustine">
                            <div class="card-category">Medieval</div>
                            <div class="card-title">Augustine</div>
                            <div class="card-description">354-430 CE. Christian beatitude and divine union.</div>
                        </div>

                        <div class="card" data-category="medieval" data-name="Aquinas">
                            <div class="card-category">Medieval</div>
                            <div class="card-title">Thomas Aquinas</div>
                            <div class="card-description">1225-1274. Natural and supernatural happiness.</div>
                        </div>

                        <div class="card" data-category="modern" data-name="Nietzsche">
                            <div class="card-category">Modern</div>
                            <div class="card-title">Nietzsche</div>
                            <div class="card-description">1844-1900. Self-overcoming and amor fati.</div>
                        </div>

                        <div class="card" data-category="modern" data-name="Russell">
                            <div class="card-category">Modern</div>
                            <div class="card-title">Bertrand Russell</div>
                            <div class="card-description">1872-1970. Practical happiness through zest and work.</div>
                        </div>

                        <div class="card" data-category="contemporary" data-name="Seligman">
                            <div class="card-category">Contemporary</div>
                            <div class="card-title">Martin Seligman</div>
                            <div class="card-description">1942-present. Positive psychology and PERMA model.</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PATTERN 6: TIMELINE -->
            <section id="pattern6">
                <h2>Pattern 6: Timeline/Stepper Navigation</h2>

                <div class="pattern-intro">
                    <strong>Best for:</strong> Historical content, tutorials, step-by-step guides<br>
                    <strong>Try:</strong> Click steps or use navigation buttons to progress.
                </div>

                <div class="demo-box">
                    <div class="timeline-nav" id="timeline-nav">
                        <div class="timeline-step completed" data-step="1">
                            <div class="step-marker"></div>
                            <div class="step-label">Ancient</div>
                        </div>
                        <div class="timeline-connector active"></div>
                        <div class="timeline-step active" data-step="2">
                            <div class="step-marker">2</div>
                            <div class="step-label">Medieval</div>
                        </div>
                        <div class="timeline-connector"></div>
                        <div class="timeline-step" data-step="3">
                            <div class="step-marker">3</div>
                            <div class="step-label">Modern</div>
                        </div>
                        <div class="timeline-connector"></div>
                        <div class="timeline-step" data-step="4">
                            <div class="step-marker">4</div>
                            <div class="step-label">Contemporary</div>
                        </div>
                    </div>

                    <div id="timeline-content">
                        <div class="step-content" data-step="1">
                            <h3>Ancient Philosophy</h3>
                            <p>Greeks and Romans developed foundational concepts: Aristotle's eudaimonia, Epicurus's ataraxia, Stoic virtue.</p>
                        </div>

                        <div class="step-content active" data-step="2">
                            <h3>Medieval Philosophy</h3>
                            <p>Christian thinkers transformed Greek philosophy: Augustine's restless heart, Aquinas's synthesis of reason and faith.</p>
                        </div>

                        <div class="step-content" data-step="3">
                            <h3>Modern Era</h3>
                            <p>Nietzsche rejected passive happiness, Russell offered practical wisdom for daily life.</p>
                        </div>

                        <div class="step-content" data-step="4">
                            <h3>Contemporary</h3>
                            <p>Positive psychology applies science: Seligman's PERMA, Csikszentmihalyi's flow states.</p>
                        </div>
                    </div>

                    <div class="step-controls">
                        <button class="btn btn-secondary" id="prev-step">‚Üê Previous</button>
                        <button class="btn btn-primary" id="next-step">Next ‚Üí</button>
                    </div>
                </div>
            </section>

            <!-- PATTERN 7: TAB TO SPLIT VIEW -->
            <section id="pattern7">
                <h2>Pattern 7: Tabs ‚Üí Split-Pane View</h2>

                <div class="pattern-intro">
                    <strong>Dynamic Layout:</strong> Toggle between tabbed view and split-pane view<br>
                    <strong>Try:</strong> Click "Split View" button to see all tabs side-by-side!
                </div>

                <div class="demo-box">
                    <div class="view-toggle">
                        <button class="view-toggle-btn active" data-view="tabs" data-target="demo-tabs">üìë Tabs</button>
                        <button class="view-toggle-btn" data-view="split" data-target="demo-tabs">‚ö° Split View</button>
                    </div>

                    <div class="tabs-container" id="demo-tabs" data-tabs="demo-split">
                        <div class="tab-list" role="tablist">
                            <button class="tab-button active" role="tab" data-tab="concept">Concept</button>
                            <button class="tab-button" role="tab" data-tab="benefits">Benefits</button>
                            <button class="tab-button" role="tab" data-tab="code">Code</button>
                        </div>

                        <div class="tab-panels-wrapper">
                            <div class="tab-panel active" id="concept" role="tabpanel">
                                <h4>What is Split View?</h4>
                                <p>Split view allows you to see multiple tab contents simultaneously, eliminating the need to switch back and forth.</p>
                                <p>Perfect for comparing different approaches, seeing context while reading details, or viewing related information side-by-side.</p>
                            </div>

                            <div class="tab-panel" id="benefits" role="tabpanel">
                                <h4>Key Benefits</h4>
                                <ul>
                                    <li><strong>No context switching:</strong> See all information at once</li>
                                    <li><strong>Easy comparison:</strong> Compare tabs visually</li>
                                    <li><strong>More screen usage:</strong> Utilize horizontal space</li>
                                    <li><strong>Flexible:</strong> Toggle back to tabs anytime</li>
                                </ul>
                            </div>

                            <div class="tab-panel" id="code" role="tabpanel">
                                <h4>Implementation</h4>
                                <pre><code>// Toggle split view
container.classList.toggle('split-view');

// In split view:
// - Hide tab list
// - Show all panels
// - Display as flexbox</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <h3>Use Cases</h3>
                <ul>
                    <li><strong>Documentation:</strong> See API reference while viewing examples</li>
                    <li><strong>Code comparison:</strong> Compare different implementations</li>
                    <li><strong>Learning:</strong> View theory and practice simultaneously</li>
                    <li><strong>Multi-language:</strong> See translations side-by-side</li>
                </ul>
            </section>

            <!-- PATTERN 8: COLLAPSIBLE TO SPLIT VIEW -->
            <section id="pattern8">
                <h2>Pattern 8: Collapsibles ‚Üí Split-Pane View</h2>

                <div class="pattern-intro">
                    <strong>Dynamic Layout:</strong> Convert collapsible sections into split-pane layout<br>
                    <strong>Try:</strong> Click "Split View" to see all sections side-by-side!
                </div>

                <div class="demo-box">
                    <div class="view-toggle">
                        <button class="view-toggle-btn active" data-view="collapsible" data-target="demo-collapsibles">üìã Collapsible</button>
                        <button class="view-toggle-btn" data-view="split" data-target="demo-collapsibles">‚ö° Split View</button>
                    </div>

                    <div class="collapsible-group" id="demo-collapsibles">
                        <div class="collapsible open">
                            <div class="collapsible-header">
                                <div class="collapsible-title">Philosophy</div>
                                <div class="collapsible-icon">‚ñº</div>
                            </div>
                            <div class="collapsible-content">
                                <div class="collapsible-inner">
                                    <h4>Western Philosophy</h4>
                                    <p>From Ancient Greece to contemporary thought, Western philosophy has explored fundamental questions about existence, knowledge, ethics, and the good life.</p>
                                    <p>Key traditions include rationalism, empiricism, existentialism, and phenomenology.</p>
                                </div>
                            </div>
                        </div>

                        <div class="collapsible">
                            <div class="collapsible-header">
                                <div class="collapsible-title">Psychology</div>
                                <div class="collapsible-icon">‚ñº</div>
                            </div>
                            <div class="collapsible-content">
                                <div class="collapsible-inner">
                                    <h4>Modern Psychology</h4>
                                    <p>Scientific study of mind and behavior. Includes cognitive psychology, behavioral psychology, developmental psychology, and positive psychology.</p>
                                    <p>Research methods include experiments, surveys, case studies, and neuroimaging.</p>
                                </div>
                            </div>
                        </div>

                        <div class="collapsible">
                            <div class="collapsible-header">
                                <div class="collapsible-title">Neuroscience</div>
                                <div class="collapsible-icon">‚ñº</div>
                            </div>
                            <div class="collapsible-content">
                                <div class="collapsible-inner">
                                    <h4>Brain Science</h4>
                                    <p>Study of the nervous system, brain structure, neural networks, and how they produce behavior and cognition.</p>
                                    <p>Intersects with psychology, biology, chemistry, and computer science.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <h3>Benefits of Split View for Collapsibles</h3>
                <ul>
                    <li><strong>Overview:</strong> See all sections at once without scrolling</li>
                    <li><strong>Comparison:</strong> Compare section content side-by-side</li>
                    <li><strong>Navigation:</strong> No need to collapse/expand repeatedly</li>
                    <li><strong>Flexible:</strong> Switch back to collapsible for focused reading</li>
                </ul>
            </section>

        </main>
    </div>

    <script>
        // ===== THEME MANAGEMENT =====
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', savedTheme);

        const themeToggle = document.getElementById('theme-toggle');
        themeToggle.textContent = savedTheme === 'dark' ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';

        themeToggle.addEventListener('click', function() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            this.textContent = newTheme === 'dark' ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
        });

        // ===== SIDEBAR NAVIGATION =====
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('section');
        const sidebar = document.getElementById('sidebar');
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');

        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const sectionId = this.dataset.section;
                const targetSection = document.getElementById(sectionId);

                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });

                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');

                    if (window.innerWidth <= 1024) {
                        sidebar.classList.remove('open');
                    }
                }
            });
        });

        mobileMenuToggle.addEventListener('click', function() {
            sidebar.classList.toggle('open');
        });

        document.addEventListener('click', function(e) {
            if (window.innerWidth <= 1024) {
                if (!sidebar.contains(e.target) && e.target !== mobileMenuToggle) {
                    sidebar.classList.remove('open');
                }
            }
        });

        // Intersection Observer for auto-highlighting
        const observerOptions = {
            root: null,
            rootMargin: '-20% 0px -70% 0px',
            threshold: 0
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const sectionId = entry.target.id;
                    navLinks.forEach(l => l.classList.remove('active'));
                    const activeLink = document.querySelector(`.nav-link[data-section="${sectionId}"]`);
                    if (activeLink) {
                        activeLink.classList.add('active');
                    }
                }
            });
        }, observerOptions);

        sections.forEach(section => observer.observe(section));

        // ===== COLLAPSIBLE SECTIONS =====
        document.querySelectorAll('.collapsible-header').forEach(header => {
            header.addEventListener('click', function() {
                this.parentElement.classList.toggle('open');
            });
        });

        // ===== TABS =====
        document.querySelectorAll('[data-tabs]').forEach(container => {
            const buttons = container.querySelectorAll('.tab-button');
            const panels = container.querySelectorAll('.tab-panel');

            buttons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.tab;

                    buttons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    panels.forEach(panel => panel.classList.remove('active'));
                    const targetPanel = document.getElementById(targetId);
                    if (targetPanel) {
                        targetPanel.classList.add('active');
                    }
                });
            });
        });

        // ===== VIEW TOGGLE (TABS/COLLAPSIBLES TO SPLIT VIEW) =====
        document.querySelectorAll('.view-toggle-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const view = this.dataset.view;
                const targetId = this.dataset.target;
                const target = document.getElementById(targetId);

                // Update button states
                this.parentElement.querySelectorAll('.view-toggle-btn').forEach(b =>
                    b.classList.remove('active'));
                this.classList.add('active');

                // Apply view mode
                if (view === 'split') {
                    target.classList.add('split-view');
                    // Auto-open all collapsibles in split view
                    if (target.classList.contains('collapsible-group')) {
                        target.querySelectorAll('.collapsible').forEach(c =>
                            c.classList.add('open'));
                    }
                } else {
                    target.classList.remove('split-view');
                }
            });
        });

        // ===== CARD FILTERING =====
        const filterBtns = document.querySelectorAll('.filter-btn');
        const cards = document.querySelectorAll('.card');
        const searchInput = document.getElementById('card-search');

        filterBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const filter = this.dataset.filter;

                filterBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');

                cards.forEach(card => {
                    if (filter === 'all' || card.dataset.category === filter) {
                        card.classList.remove('hidden');
                    } else {
                        card.classList.add('hidden');
                    }
                });
            });
        });

        searchInput.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;

            cards.forEach(card => {
                const name = card.dataset.name.toLowerCase();
                const category = card.dataset.category;
                const matchesSearch = name.includes(searchTerm);
                const matchesFilter = activeFilter === 'all' || category === activeFilter;

                if (matchesSearch && matchesFilter) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
        });

        // ===== TIMELINE/STEPPER =====
        const timelineSteps = document.querySelectorAll('.timeline-step');
        const stepContents = document.querySelectorAll('.step-content');
        const timelineConnectors = document.querySelectorAll('.timeline-connector');
        const prevBtn = document.getElementById('prev-step');
        const nextBtn = document.getElementById('next-step');
        let currentStep = 2;

        function updateTimeline(stepNum) {
            currentStep = stepNum;

            timelineSteps.forEach((step, index) => {
                const num = index + 1;
                step.classList.remove('active', 'completed');

                if (num < currentStep) {
                    step.classList.add('completed');
                } else if (num === currentStep) {
                    step.classList.add('active');
                }
            });

            timelineConnectors.forEach((connector, index) => {
                if (index + 1 < currentStep) {
                    connector.classList.add('active');
                } else {
                    connector.classList.remove('active');
                }
            });

            stepContents.forEach(content => {
                content.classList.remove('active');
                if (parseInt(content.dataset.step) === currentStep) {
                    content.classList.add('active');
                }
            });

            prevBtn.disabled = currentStep === 1;
            nextBtn.disabled = currentStep === timelineSteps.length;
        }

        timelineSteps.forEach((step, index) => {
            step.addEventListener('click', () => {
                updateTimeline(index + 1);
            });
        });

        prevBtn.addEventListener('click', () => {
            if (currentStep > 1) {
                updateTimeline(currentStep - 1);
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentStep < timelineSteps.length) {
                updateTimeline(currentStep + 1);
            }
        });

        updateTimeline(currentStep);

        // ===== SCROLL TO TOP =====
        const scrollToTopBtn = document.getElementById('scroll-to-top');

        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
        });

        scrollToTopBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    </script>
</body>
</html>
